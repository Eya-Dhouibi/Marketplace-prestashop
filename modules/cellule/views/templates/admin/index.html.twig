{% extends "PrestaShopBundle:Admin:layout.html.twig" %}
{% block content %}
  <div class="cellules">

    {# {{ renderhook('legacy_block_kpi', {'kpi_controller': 'AdminCelluleController'}) }} #}

    <div class="content container-fluid">

      {# {% if permission_error|length %}
      <div class="row">
        <div class="col-md-12">
          <div class="alert alert-danger" role="alert">
            <button type="button" class="close" data-dismiss="alert">
              <span aria-hidden="true"><i class="material-icons">close</i></span>
            </button>
            <p class="alert-text">
              {{ permission_error }}
            </p>
          </div>
        </div>
      </div>
      {% endif %} #}

      <div class="row align-items-start">
        {# {% block product_catalog_tools %}
          {{ include('@Product/CatalogPage/Blocks/tools.html.twig', {'import_link': import_link }) }}
        {% endblock %} #}

        {# {% block product_catalog_filters %}
          {{ include('@Product/CatalogPage/Blocks/filters.html.twig', {
              'limit': limit,
              'offset': offset,
              'orderBy': orderBy,
              'sortOrder': sortOrder
            })
          }}
        {% endblock %} #}
      </div>

      {% block cellule_form %}
        {{ include('@Modules/cellule/views/templates/admin/cellule_form.html.twig')}}
      {% endblock %}

    </div>
  </div>

  {# Activation product modal #}
  {% embed '@PrestaShop/Admin/Helpers/bootstrap_popup.html.twig' with {
  'id': "catalog_activate_all_modal",
  'title': "Activating cellules"|trans({}, 'Admin.Catalog.Notification'),
  'closable': true,
  'progressbar': {
  'id': "catalog_activate_all_progression",
  'label': "Activating..."|trans({}, 'Admin.Catalog.Notification')
  },
  'actions': [],
  }%}
    {% block content %}
      <div class="modal-body">
        {{ 'Activation in progress...'|trans({}, 'Admin.Catalog.Notification') }}
        <span id="catalog_activate_all_failure" style="display: none;color: darkred;">
          {{ 'Activation failed.'|trans({}, 'Admin.Catalog.Notification') }}
        </span>
      </div>
    {% endblock %}
  {% endembed %}


  {# Desactivation product modal #}
  {% embed '@PrestaShop/Admin/Helpers/bootstrap_popup.html.twig' with {
  'id': "catalog_deactivate_all_modal",
  'title': "Deactivating cellules"|trans({}, 'Admin.Catalog.Notification'),
  'closable': true,
  'progressbar': {
  'id': "catalog_deactivate_all_progression",
  'label': "Deactivating..."|trans({}, 'Admin.Catalog.Notification')
  },
  'actions': [],
  }%}
    {% block content %}
      <div class="modal-body">
        {{ 'Deactivation in progress...'|trans({}, 'Admin.Catalog.Notification') }}
        <span id="catalog_deactivate_all_failure" style="display: none;color: darkred;">
          {{ 'Deactivation failed.'|trans({}, 'Admin.Catalog.Notification') }}
        </span>
      </div>
    {% endblock %}
  {% endembed %}


  {# Deletion product modal #}
  {% embed '@PrestaShop/Admin/Helpers/bootstrap_popup.html.twig' with {
  'id': "catalog_delete_all_modal",
  'title': "Deleting cellules"|trans({}, 'Admin.Catalog.Notification'),
  'closable': true,
  'progressbar': {
  'id': "catalog_delete_all_progression",
  'label': "Deleting..."|trans({}, 'Admin.Catalog.Notification')
  },
  'actions': [],
  }%}
    {% block content %}
      <div class="modal-body">
        {{ 'Deletion in progress...'|trans({}, 'Admin.Catalog.Notification') }}
        <span id="catalog_delete_all_failure" style="display: none;color: darkred;">
          {{ 'Deletion failed.'|trans({}, 'Admin.Catalog.Notification') }}
        </span>
      </div>
    {% endblock %}
  {% endembed %}


  {# Confirmation deletion product modal #}
  {% embed '@PrestaShop/Admin/Helpers/bootstrap_popup.html.twig' with {
    'id': "catalog_deletion_modal",
    'title': "Delete cellules?"|trans({}, 'Admin.Catalog.Feature'),
    'closable': true,
    'actions': [{
      'type': 'button',
      'label': "Delete now"|trans({}, 'Admin.Actions'),
      'value': 'confirm',
      'class': 'btn btn-primary btn-lg',
    }],
  }%}
    {% block content %}
      <div class="modal-body">
        {{ 'These cellules will be deleted for good. Please confirm.'|trans({}, 'Admin.Catalog.Feature') }}
      </div>
    {% endblock %}
  {% endembed %}

  {% embed '@PrestaShop/Admin/Helpers/bootstrap_popup.html.twig' with {
    'id': "catalog_sql_query_modal",
    'title': "SQL query"|trans({}, 'Admin.Global'),
    'closable': true,
    'actions': [{
      'type': 'button',
      'label': "Export to SQL Manager"|trans({}, 'Admin.Actions'),
      'value': 'sql_manager',
      'class': 'btn btn-primary btn-lg',
    }],
  } %}
    {% block content %}
      <form method="post" action="" id="catalog_sql_query_modal_content">
        <div class="modal-body">
          <textarea name="sql" rows="20" cols="65"></textarea>
          <input type="hidden" name="name" value="" />
        </div>
      </form>
    {% endblock %}
  {% endembed %}

{% endblock %}
{# {% block content %}
  <div class="row">
    <div class="col-sm-12">
      <div id="ajax_confirmation" class="alert alert-success" style="display: none;"></div>
      <div class="_cellule_desktop">
        <div class="content container-fluid">
          {# 
          <div class="row align-items-start">
            {% block product_catalog_tools %}
              {{ include('@Product/CatalogPage/Blocks/tools.html.twig', {'import_link': import_link }) }}
            {% endblock %}
          </div>
          

          <div class="table-responsive">
            <table class="table cellule mt-3">
              {% include '@Modules/cellule/views/templates/admin/cellule_table.html.twig' %}
              {% include '@Modules/cellule/views/templates/admin/cellule_list.html.twig' %}
            </table>
          </div>

          <!---pagination-->
        </div>
      </div>
    </div>
  </div>
{% endblock %}   #}
